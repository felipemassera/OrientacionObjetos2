package ar.edu.info.unlp.ejercicioDemo;

import java.util.ArrayList;
import java.util.List;

public class Twitter {

	private List<User> users;

	public Twitter () {
		this.users = new ArrayList<>();
	}
	
	public boolean newUser (String userName) {
		boolean done = false;
		if (!existUserName(userName)) {
			this.users.add(new User(userName));
			done=true;
		}
		return done;
	}
	
	private boolean existUserName(String userName){
		  return this.users.stream()   
		 .anyMatch(user->user.getName().equals(userName));
	}

	public Boolean deleteUser(String userName) {
		Boolean done = false;
		User User = findUser(userName);
		if (User != null) {
			done = User.deleteUser();
			if (done) {
				this.users.remove(User);
			}
		}
		return done;
	}
	
	private User findUser(String userName){
		return this.users.stream()
				.filter(u->u.getName().equals(userName))
				.findFirst().orElse(null);
	}
}
